@model CoolBooks_NinjaExperts.Models.Books

@{
    ViewData["Title"] = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<link rel="stylesheet" href="~/css/ReviewsStyle.css" />

@using Microsoft.AspNetCore.Identity
@using CoolBooks_NinjaExperts.Areas.Identity.Data

@inject SignInManager<UserInfo> SignInManager
@inject UserManager<UserInfo> UserManager


<section class="py-5">
    <div class="container px-4 px-lg-5 my-5 d-flex flex-row">
        <div class="col-md-4 mb-10">
            @{
                var baseThumb = Convert.ToBase64String(Model.Image.Image);
                var imgsrc2 = string.Format("data:image/thumbnail;base64,{0}", baseThumb);
            }
            <img src="@imgsrc2" style="width:400px; height:550px;">
        </div>
        <div class="col-md-6" style="padding-left: 15px;">
            <div class="small mb-1">
                @{
                for(int i = 0;  i < Model.Genres.Count(); i++)
                    {
                        if (i == Model.Genres.Count()-1)
                        {
                            <a class="text-dark" asp-controller="Genres" asp-action="Details" asp-route-id="@Model.Genres[i].Id" style="text-decoration: none">@Model.Genres[i].Name</a>
                        }
                        else
                        {
                            <a class="text-dark" asp-controller="Genres" asp-action="Details" asp-route-id="@Model.Genres[i].Id" style="text-decoration: none">@Model.Genres[i].Name | </a>
                        }
                    }
                }
            </div>
            <h1 class="display-5 fw-bolder">@Html.DisplayFor(model => model.Title)</h1>
            <div class="fs-5 mb-5">

                <span>
                    @{
                        for(int i = 0;  i < Model.Authors.Count(); i++)
                            {
                                if (i == Model.Authors.Count()-1)
                                {
                                    <a class="text-dark" asp-controller="Authors" asp-action="Details" asp-route-id="@Model.Authors[i].Id" style="text-decoration: none">@Model.Authors[i].FullName</a>
                                }
                                else
                                {
                                    <a class="text-dark" asp-controller="Authors" asp-action="Details" asp-route-id="@Model.Authors[i].Id" style="text-decoration: none">@Model.Authors[i].FullName & </a>
                                }
                            }
                    }
                </span><br />
                <span>ISBN: @Html.DisplayFor(model => Model.ISBN)</span>
                                
                <div class="d-flex small text-warning mb-2">
                    <div class="bi-star-fill"></div>
                    <div class="bi-star-fill"></div>
                    <div class="bi-star-fill"></div>
                    <div class="bi-star-fill"></div>
                    <div class="bi-star-fill"></div>
                </div>
            </div>
            <p class="lead">@Html.DisplayFor(model => Model.Description)</p>
        </div>   
    </div>
</section>
<div>
    @if (SignInManager.IsSignedIn(User))
    {
    <a asp-action="Index">Back to List</a>
    }
</div>

@*Template: https://www.bootdey.com/snippets/view/bs4-beta-comment-list*@
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
<div class="container">
    <div class="row">
        <div class="col-md-8">
            <div class="media g-mb-30 media-comment">
                <img class="d-flex g-width-50 g-height-50 rounded-circle g-mt-3 g-mr-15" src="https://bootdey.com/img/Content/avatar/avatar7.png" alt="Image Description">
                <div class="media-body u-shadow-v18 g-bg-secondary g-pa-30">
                  <div class="g-mb-15">
                    <h5 class="h5 g-color-gray-dark-v1 mb-0">John Doe</h5>
                    <span class="g-color-gray-dark-v4 g-font-size-12">5 days ago</span>
                  </div>
        
                  <p>Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin. Cras purus odio, vestibulum in vulputate at, tempus viverra turpis. Fusce condimentum nunc ac nisi vulputate fringilla. Donec lacinia congue
                    felis in faucibus ras purus odio, vestibulum in vulputate at, tempus viverra turpis.</p>
        
                  <ul class="list-inline d-sm-flex my-0">
                    <li class="list-inline-item g-mr-20">
                      <a class="u-link-v5 g-color-gray-dark-v4 g-color-primary--hover" href="#!">
                        <i class="fa fa-thumbs-up g-pos-rel g-top-1 g-mr-3"></i>
                        178
                      </a>
                    </li>
                    <li class="list-inline-item g-mr-20">
                      <a class="u-link-v5 g-color-gray-dark-v4 g-color-primary--hover" href="#!">
                        <i class="fa fa-thumbs-down g-pos-rel g-top-1 g-mr-3"></i>
                        34
                      </a>
                    </li>
                    <li class="list-inline-item ml-auto">
                      <a class="u-link-v5 g-color-gray-dark-v4 g-color-primary--hover" href="#!">
                        <i class="fa fa-reply g-pos-rel g-top-1 g-mr-3"></i>
                        Reply
                      </a>
                    </li>
                  </ul>
                </div>
            </div>
        </div>

        <div class="col-md-8">
            <div class="media g-mb-30 media-comment">
                <img class="d-flex g-width-50 g-height-50 rounded-circle g-mt-3 g-mr-15" src="https://bootdey.com/img/Content/avatar/avatar1.png" alt="Image Description">
                <div class="media-body u-shadow-v18 g-bg-secondary g-pa-30">
                  <div class="g-mb-15">
                    <h5 class="h5 g-color-gray-dark-v1 mb-0">John Doe</h5>
                    <span class="g-color-gray-dark-v4 g-font-size-12">5 days ago</span>
                  </div>
        
                  <p>Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin. Cras purus odio, vestibulum in vulputate at, tempus viverra turpis. Fusce condimentum nunc ac nisi vulputate fringilla. Donec lacinia congue
                    felis in faucibus ras purus odio, vestibulum in vulputate at, tempus viverra turpis.</p>
        
                  <ul class="list-inline d-sm-flex my-0">
                    <li class="list-inline-item g-mr-20">
                      <a class="u-link-v5 g-color-gray-dark-v4 g-color-primary--hover" href="#!">
                        <i class="fa fa-thumbs-up g-pos-rel g-top-1 g-mr-3"></i>
                        178
                      </a>
                    </li>
                    <li class="list-inline-item g-mr-20">
                      <a class="u-link-v5 g-color-gray-dark-v4 g-color-primary--hover" href="#!">
                        <i class="fa fa-thumbs-down g-pos-rel g-top-1 g-mr-3"></i>
                        34
                      </a>
                    </li>
                    <li class="list-inline-item ml-auto">
                      <a class="u-link-v5 g-color-gray-dark-v4 g-color-primary--hover" href="#!">
                        <i class="fa fa-reply g-pos-rel g-top-1 g-mr-3"></i>
                        Reply
                      </a>
                    </li>
                  </ul>
                </div>
            </div>
        </div>
    </div>
</div>
